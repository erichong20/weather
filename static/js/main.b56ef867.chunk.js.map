{"version":3,"sources":["imgs2/013-wind.png","imgs2/014-drop.png","imgs2/015-cloud.png","fonts/Roboto-Regular.ttf","fonts/Roboto-Bold.ttf","locationAPI.js","weatherAPI.js","weatherCard.js","content.js","index.js"],"names":["module","exports","locationAPI","address","a","fetch","mode","response","json","data","str","display_name","split","location","length","coords","Math","round","lat","lon","getCoords","weatherAPI","apiKey","displayAddress","weatherData","weatherObj","WeatherObj","this","currentWeather","current","weather","main","currentDescription","description","currentTemp","temp","windSpeed","wind_speed","windDirection","deg","index","floor","calculateDirection","wind_deg","clouds","hourly","rainForecast","daily","pop","forecast","icon","fetchWeather","WeatherCard","props","speed","windVal","isMetric","toCelsius","toFahrenheit","toKph","toMph","className","src","name","onClick","changeUnits","wind","alt","rainDrop","cloud","React","Component","Content","state","bind","event","target","setState","Home","initializeContent","changeAddress","handleUnload","window","addEventListener","removeEventListener","localStorage","getItem","setItem","newAddress","Header","NewAddress","value","handleChange","handleSubmit","preventDefault","onSubmit","type","onChange","placeholder","required","Footer","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b56ef867.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/013-wind.0832cf0c.png\";","module.exports = __webpack_public_path__ + \"static/media/014-drop.45d3c6aa.png\";","module.exports = __webpack_public_path__ + \"static/media/015-cloud.835c892d.png\";","module.exports = __webpack_public_path__ + \"static/media/Roboto-Regular.11eabca2.ttf\";","module.exports = __webpack_public_path__ + \"static/media/Roboto-Bold.e07df86c.ttf\";","//turns location into lat and long coords\nconst locationAPI = (()=>{\n  const apiKey = \"e5b25352c0f62a\"\n\n  async function getCoords(address){\n    //use api to get coordinates of the address\n    const response = await fetch(`https://us1.locationiq.com/v1/search.php?key=${apiKey}&q=${address}&format=json`,{mode: 'cors'});\n    const data = await response.json();\n\n    let str = data[0].display_name.split(\",\");\n    let location = `${str[0]}, ${str[str.length-1]}`;\n\n    let coords = [Math.round(data[0].lat*100)/100,Math.round(data[0].lon*100)/100,location];\n\n    return coords;\n  }\n\n  return {getCoords};\n\n})();\n\nexport default locationAPI;","import locationAPI from \"./locationAPI.js\"\n\n//api handler module\nconst weatherAPI = (()=>{\n  const apiKey = \"bcdf233ba619e03521c7d75e5c2349d4\";\n  \n  let displayAddress = \"\";\n\n  async function fetchWeather(address){\n\n    const coords = await locationAPI.getCoords(address);\n\n    displayAddress = coords[2];\n\n    const response = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${coords[0]}&lon=${coords[1]}&exclude={minutely}&appid=${apiKey}`,{mode: 'cors'});\n\n    const weatherData = await response.json();\n\n    const weatherObj = new WeatherObj(weatherData);\n\n    return weatherObj;\n  }\n\n  //get most important data from the set\n  //weather and weather description, temperature, \n  //wind speed/direction, probability of rain\n  //forecast for next four days with weather, high temp, low temp\n  function WeatherObj(data){\n    this.currentWeather = data.current.weather[0].main;\n    this.currentDescription = data.current.weather[0].description;\n    //in kelvin\n    this.currentTemp = data.current.temp;\n    this.windSpeed = data.current.wind_speed;\n    this.windDirection = calculateDirection(data.current.wind_deg);\n\n    this.clouds = data.hourly[0].clouds;\n    //rain forecast, hourly\n    this.rainForecast = data.daily[0].pop;\n\n    this.forecast = data.daily;\n\n    this.icon = data.current.weather[0].icon;\n\n    this.address = displayAddress;\n  }\n\n  function calculateDirection(deg){\n    const directions = [\"N\", \"NE\", \"E\", \"SE\", \"S\", \"SW\", \"W\", \"NW\"];\n    const index = Math.floor((deg / 45)) % 16;\n    return directions[index];\n  }\n\n  return {\n    fetchWeather    \n  }\n})();\n\nexport default weatherAPI;","import React from 'react';\n\nimport wind from \"./imgs2/013-wind.png\"\nimport rainDrop from \"./imgs2/014-drop.png\"\nimport cloud from \"./imgs2/015-cloud.png\"\n\nclass WeatherCard extends React.Component {\n  \n  constructor(props){\n    super(props);\n  }\n\n  toCelsius(temp){\n    return Math.round((temp-273.15)*100)/100;\n  }\n\n  toFahrenheit(temp){\n    return Math.round(((temp-273.15) * (9/5) + 32)*100)/100;\n  }\n\n  toMph(speed){\n    return Math.round((speed*2.237)*100)/100;\n  }\n\n  toKph(speed){\n    return Math.round((speed*3.6)*100)/100;\n  }\n  \n  render(){\n\n    let temp;\n    if (this.props.isMetric){\n      temp = this.toCelsius(this.props.data.currentTemp) + \" \\u00b0C\";\n    } else {\n      temp = this.toFahrenheit(this.props.data.currentTemp) + \" \\u00b0F\";\n    }\n\n    let windVal;\n    if (this.props.isMetric){\n      windVal = this.toKph(this.props.data.windSpeed) + \"kph\";\n    } else {\n      windVal = this.toMph(this.props.data.windSpeed) + \"mph\";\n    }\n\n    return(\n      <div className=\"cardContainer\">\n        <div className=\"primaryContainer\">\n          <div className=\"weatherIconContainer\">\n            <img className=\"weatherIcon\" src={`http://openweathermap.org/img/wn/${this.props.data.icon}@2x.png`}></img>\n          </div>\n\n          <div className=\"primaryWeather\">\n            <div className=\"currentTemp\">{temp}</div>\n            <div className=\"currentDescription\">{this.props.data.currentDescription}</div>\n          </div>\n\n          <div>\n            <div className=\"unitsContainer\">\n              <button name=\"metric\" className= {(this.props.isMetric ? \"unitSelected\" : \"unitNotSelected\")+ \" unitButton\"} onClick={this.props.changeUnits}>Metric</button>\n              <button name=\"imperial\" className={(this.props.isMetric ? \"unitNotSelected\" : \"unitSelected\") + \" unitButton\"} onClick={this.props.changeUnits}>Imperial</button>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"secondaryContainer\">\n          <div className=\"secondaryDisplay\">\n            <img src={wind} alt=\"wind\"/>\n            {windVal} {this.props.data.windDirection}\n          </div>\n\n          <div className=\"secondaryDisplay\">\n            <img src={rainDrop} alt=\"Rain\"/>\n            {Math.round((this.props.data.rainForecast*100)*100)/100}%\n          </div>\n\n          <div className=\"secondaryDisplay\">\n            <img src={cloud} alt=\"cloud\"/>\n            {this.props.data.clouds}%\n          </div>\n        </div>\n        \n        <div className=\"forecast\">\n          \n        </div>\n\n      </div>\n    );\n  }\n}\n\nexport default WeatherCard","import React from 'react';\n\nimport weatherAPI from \"./weatherAPI.js\"\nimport WeatherCard from \"./weatherCard.js\"\n\nclass Content extends React.Component {\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      isMetric: true\n    }\n\n    this.changeUnits = this.changeUnits.bind(this);\n  }\n\n  changeUnits(event){\n    if(event.target.name===\"metric\"){\n      this.setState({isMetric: true});\n    } else {\n      this.setState({isMetric: false});\n    }\n  }\n\n  render(){\n    if(this.props.weather===null){\n      return(\n        <div className=\"loadingContainer\">\n          <div className=\"loading\">Loading</div>\n          <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\n        </div>\n      );\n    } else {\n      return(\n        <div className=\"content\">\n          <WeatherCard data={this.props.weather} isMetric={this.state.isMetric} changeUnits={this.changeUnits}/>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Content","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport './reset.css';\nimport './fonts/Roboto-Regular.ttf'\nimport './fonts/Roboto-Bold.ttf'\n\nimport weatherAPI from \"./weatherAPI.js\"\nimport Content from \"./content.js\"\n\nclass Home extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      displayAddress: \"\",\n      address: \"Issaquah\",\n      weather: null,\n    }\n\n    this.initializeContent = this.initializeContent.bind(this);\n    this.changeAddress = this.changeAddress.bind(this);\n    this.handleUnload = this.handleUnload.bind(this);\n\n    this.initializeContent();\n  }\n\n  componentDidMount(){\n    window.addEventListener(\"beforeunload\", this.handleUnload);\n  }\n\n  componentWillUnmount(){\n    window.removeEventListener(\"beforeunload\", this.handleUnload);\n  }\n\n  async initializeContent(){\n    const current = localStorage.getItem(\"currentAddress\");\n\n    if(current){\n      this.setState({address: await current});\n    }\n\n    const weatherObj = await weatherAPI.fetchWeather(this.state.address);\n    this.setState({weather: weatherObj});\n\n    const displayAddress = weatherObj.address;\n    await this.setState({displayAddress: displayAddress});\n  }\n\n  handleUnload(){\n    localStorage.setItem(\"currentAddress\",this.state.address);\n  }\n\n  async changeAddress(newAddress){\n    await this.setState({address: newAddress});\n    const weatherObj = await weatherAPI.fetchWeather(this.state.address);\n\n    const displayAddress = weatherObj.address;\n    await this.setState({displayAddress: displayAddress});\n\n    await this.setState({weather: weatherObj});\n  }\n\n  render(){\n    return(\n    <div className=\"pageContainer\">\n      <div className=\"main\">\n        <Header address={this.state.displayAddress}/>\n        <Content weather={this.state.weather}/>\n        <NewAddress newAddress={this.changeAddress}/>\n      </div>\n      <Footer />\n    </div>\n    );\n  }\n}\n\nclass Header extends React.Component {\n  constructor(props){\n    super(props);\n  }\n\n  render(){\n    return(\n      <div className=\"headerContainer\">\n        <h1 className=\"header\">Weather in <span className=\"headerLocation\">{this.props.address}</span></h1>\n      </div>\n    );\n  }\n}\n\nclass NewAddress extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      value: \"\"\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event){\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event){\n    this.setState({value: \"\"});\n    this.props.newAddress(this.state.value); \n    event.preventDefault(); \n  }\n\n  render(){\n    return(\n      <form className=\"newAddress\" onSubmit={this.handleSubmit}>\n        <input className=\"newAddressInput\" type=\"text\" name=\"search\" value={this.state.value} onChange={this.handleChange} placeholder=\"New Location\" required></input>\n        <button className=\"newAddressSubmit\" type=\"submit\" value=\"submit\">Update</button>\n      </form>\n    );\n  }\n}\n\nclass Footer extends React.Component {\n  render(){\n    return(\n      <footer>\n        <p>\n          made by <a href=\"https://github.com/erichong20\">eric hong</a> using{\" \"}\n          <a href=\"https://reactjs.org/\">React</a>\n        </p>\n      </footer>\n    );\n  }\n}\n\n\n\nReactDOM.render(\n  <Home />,\n  document.getElementById('root')\n);"],"sourceRoot":""}